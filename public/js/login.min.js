var login = {};
login.init = function() {
    $(window).load(login.VerificaLogarSistema), $("#esqueceu").click(function() {
        $(".logar").hide()
    }), $("#esqueceuUsuario").change(login.esqueceuUsuario), $("#btn_esqueceu").click(login.esqueceu)
}, $(login.init), login.VerificaLogarSistema = function() {
    $("#txt_usuario").keypress(function(a) {
        13 == a.keyCode && $("#txt_senha").focus()
    }).focus(), $("#txt_senha").keypress(function(a) {
        13 == a.keyCode && login.LogarSistema()
    }), $("#btn_logar").click(login.LogarSistema)
}, login.LogarSistema = function() {
    var a = "http://" + window.location.host;

    return a =  "/gpi/", 
    $.ajax({
        url: a + "application/controllers/logar.php",
        dataType: "json",
        data: "txt_usuario=" + escape($("#txt_usuario").val()) + "&txt_senha=" + escape($("#txt_senha").val()) + "&act=1",
        type: "post",
        clearForm: !0,
        success: function(b) {
            1 == b.type ? location.href = a + "index.php?pg=0" : (alert(b.msg), $("#txt_usuario").val(""), $("#txt_senha").val(""), window.location.reload(), $("#txt_usuario").focus())
        },
        error: function() {
            alert("Erro ao enviar requisi\xE7\xE3o!")
        }
    }), !1
}, login.esqueceuUsuario = function() {
    $(this).is(":checked") ? ($(".emailEsqueceu").removeAttr("style"), $("#usuario").attr("disabled", !0)) : ($(".emailEsqueceu").attr("style", "display:none;"), $("#usuario").attr("disabled", !1))
}, login.esqueceu = function() {
    var a = $("#usuario").val(),
        b = $("#email").val(),
        c = $("#nome").val(),
        d = $("#setor").val(),
        f = !1;
    if ($("#esqueceuUsuario").is(":checked") && ("" == b || "" == d || "" == d) ? f = !0 : !$("#esqueceuUsuario").is(":checked") && "" == a && (f = !0), f) alert("Voc\xEA deve preencher o formul\xE1rio antes de fazer a solicita\xE7\xE3o!");
    else {
        var g = 3;
        $("#esqueceuUsuario").is(":checked") && (g = 4);
        var h = "http://" + window.location.host;
        h =  "/gpi/", $.ajax({
            url: h + "application/controllers/logar.php",
            dataType: "json",
            data: {
                act: g,
                usuario: a,
                email: b,
                nome: c,
                setor: d
            },
            type: "post",
            clearForm: !0,
            success: function(i) {
                0 == i.result ? alert("Solicita\xE7\xE3o de recupera\xE7\xE3o de usu\xE1rio enviada ao desenvolvimento!") : 2 == i.result ? alert("Erro ao enviar solicita\xE7\xE3o, por favor tente novamente mais tarde!") : alert("Usu\xE1rio n\xE3o encontrado!"), window.location.reload()
            },
            error: function() {
                alert("Solicita\xE7\xE3o de recupera\xE7\xE3o de usu\xE1rio enviada ao desenvolvimento!"), window.location.reload()
            }
        })
    }
};